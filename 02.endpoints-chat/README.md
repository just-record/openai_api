# OpenAI Endpoints Chat

API: <https://platform.openai.com/docs/api-reference/chat>

각 코드의 실행은 해당 디렉토리에서 다음과 같이 실행합니다.

```bash
python {실행하고자 하는 파일 이름}
```

## Chat - 답변 생성

`chat_basic.py`: 질의에 답변하기

결과:

```text
Hello! How can I assist you today?
```

## Chat - 이전 대화 내용 알려 주기

`chat_previous.py`: 인공지능은 조금 전에 대화한 내용을 기억하지 못합니다. 이전의 대화 내용을 알려 주어야 합니다.

결과:

```text
Your name is Hong Gildong
```

## Chat - system role

`chat_system.py`: system role을 사용하여 대화의 지침을 설정할 수 있습니다.

결과: 사용자의 prompt에 영어로 번역 해 달라는 지시가 없어도 사용자의 질의(chat)를 영어로 번역합니다.

```text
Hello. Nice to meet you.
```

## Chat - 여러 개의 답변

`chat_multiple.py`: 여러 개의 답변을 생성할 수 있습니다.

결과:

```text
답변 개수: 3
답변 1: 내 강점은 다양한 주제에 관한 정보를 신속하고 정확하게 제공하는 것입니다.
답변 2: 질문에 최대한 정확하고 빠르게 답변해 드립니다.
답변 3: 사용자를 도와주는 것!
```

## Chat - Token 사용량

`chat_token.py`: 사용한 토큰의 양을 확인할 수 있습니다.

결과:

```text
{'completion_tokens': 60, 'prompt_tokens': 38, 'total_tokens': 98}
```

- `completion_tokens`: 답변 생성(output)에 사용한 토큰의 양
- `prompt_tokens`: 질문(input)에 사용한 토큰의 양
- `total_tokens`: 사용한 총 토큰의 양

## Chat - JSON 모드

`chat_json.py`: 답변을 JSON 형식으로 출력할 수 있습니다.

'gpt-3.5-turbo-0125', 'gpt-4-turbo-preview' 모델이 사용 가능합니다. 다른 모델들 중 'gpt-3.5-turbo-0613'는 사용이 불가능 한 걸 확인했습니다.

결과:

```json
{
  "winner": "Los Angeles Dodgers",
  "year": 2020
}
```

## Chat - Image 질의 (URL)

`chat_image_url.py`: 인터넷에 있는 이미지에 관련된 질문을 할 수 있습니다.

![이미지 URL](https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin-madison-the-nature-boardwalk.jpg)

결과: Url 경로의 이미지를 설명 해 줍니다.

```text
이 이미지는 푸른 하늘 아래, 들판을 가로질러 나 있는 나무 데크 길을 보여줍니다. 이 길은 풍부한 녹색 풀밭을 관통하고 있으며, 주변에는 수풀과 나무들이 보입니다. 맑은 날씨와 자연의 풍경이 조화롭게 어우러져 평화로운 분위기를 연출하고 있습니다.
```

## Chat - Image 질의 (Base64)

`chat_image_base64.py`: 내 컴퓨터의 이미지를 Base64로 인코딩하여 질의할 수 있습니다. 이미지는 `otter.png` 파일을 사용합니다.

![수달 이미지](otter.png)

결과:

```text
이 이미지에는 물에서 헤엄치고 있는 아주 귀여운 수달 한 마리가 나와 있습니다. 수달은 명랑한 표정을 짓고 있으며, 물결과 햇빛이 반짝이는 배경과 함께 매우 평화로워 보입니다.
```

`chat_image_base64_requests.py`: 위와 동일한 예제를 Python의 requests를 사용하여 구현 하기

requests 설치:

```bash
pip install requests
```

결과:

```text
이 이미지에는 물속에서 수영하고 있는 귀여운 수달 한 마리가 있습니다. 푸른 물결 사이로 반짝이는 눈과 부드러운 털이 특징적인 이 수달은 깜찍한 표정을 짓고 있습니다. 배경에는 맑은 하늘과 햇빛이 반사된 물결이 보입니다.
```

## Chat - 다중 Image 질의 (File)

`chat_image_files.py`: 여러 개의 이미지를 질의합니다. 하나는 `otter.png` 파일을 업로드 하고 다른 하나는 위에서 연습 한 인터넷 상의 이미지 URL을 사용합니다.

결과:

```text
첫 번째 이미지는 물 위에 떠 있는 귀여운 수달의 일러스트레이션을 보여줍니다. 수달의 눈이 밝고 표정이 친근감 있게 묘사되어 있습니다.

두 번째 이미지는 넓은 초록색 잔디밭과 하늘을 배경으로 한 목재 데크 길이 있는 풍경 사진입니다. 이 길은 자연 속을 산책하거나 탐험하는 데 이상적인 경치를 제공하고 있습니다.

두 이미지 사이의 가장 큰 차이점은 첫 번째는 애니메이션으로 제작된 동물의 초상화이고, 두 번째는 실제 자연 풍경의 사진이라는 점입니다. 첫 번째 이미지는 예술적인 요소가 강조되어 있으며, 두 번째 이미지는  
자연 그대로의 아름다움을 보여 줍니다.
```

## Chat - Streaming

`chat_streaming.py`: 답변을 스트리밍으로 출력합니다.

결과: Streaming으로 출력

```text
Of course! I'll be happy to provide a detaile...
```

## Chat - Functions

`chat_functions.py`: tools를 사용하여 Functions를 호출 할 수 있는 형태를 생성합니다.

- `def get_current_weather(location: str, unit: str = "celsius")`: 함수를 선언합니다.
- `tools`: AI에서 생성 할 함수를 정의합니다.
- API response를 사용하여 함수(get_current_weather)를 호출합니다.

결과:

```text
The current weather in Boston, MA is 37 degrees celsius.
```

## Chat - Logprobs

`chat_logprobs.py`: logprobs를 사용하여 각 토큰의 확률을 출력합니다.

결과:

```text
Hello! How can I assist you today?
--------------------
1 - token: Hello, logprob: -0.31725305
    1 - token: Hello, logprob: -0.31725305
    2 - token: Hi, logprob: -1.3190403

2 - token: !, logprob: -0.02380986
    1 - token: !, logprob: -0.02380986
    2 - token:  there, logprob: -3.787621

3 - token:  How, logprob: -5.4669687e-05
    1 - token:  How, logprob: -5.4669687e-05
    2 - token: <|end|>, logprob: -10.953937

4 - token:  can, logprob: -0.015801601
    1 - token:  can, logprob: -0.015801601
    2 - token:  may, logprob: -4.161023

5 - token:  I, logprob: -3.7697225e-06
    1 - token:  I, logprob: -3.7697225e-06
    2 - token:  assist, logprob: -13.596657

6 - token:  assist, logprob: -0.04571125
    1 - token:  assist, logprob: -0.04571125
    2 - token:  help, logprob: -3.1089056

7 - token:  you, logprob: -5.4385737e-06
    1 - token:  you, logprob: -5.4385737e-06
    2 - token:  today, logprob: -12.807695

8 - token:  today, logprob: -0.0040071653
    1 - token:  today, logprob: -0.0040071653
    2 - token: ?, logprob: -5.5247097

9 - token: ?, logprob: -0.0008108172
    1 - token: ?, logprob: -0.0008108172
    2 - token: ?
, logprob: -7.184561
```

## Chat - o1

<https://platform.openai.com/docs/models/o1>

`chat_o1_test.py`: 새로운 모델인 `o1-preview`와 `o1-mini`를 테스트합니다.

참고로 system role을 사용하면 다음과 같은 오류가 발생합니다.

```bash
# ...
# {"system": "You are a helpful assistant."},
# ...

openai.BadRequestError: Error code: 400 - {'error': {'message': "Missing required parameter: 'messages[0].role'.", 'type': 'invalid_request_error', 'param': 'messages[0].role', 'code': 'missing_required_parameter'}}
```

결과:

```markdown
조선 시대와 고려 시대의 문화적 차이점은 정치, 예술, 사회적 측면에서 뚜렷하게 드러나며, 이는 한국 역사의 흐름과 정체성 형성에 큰 영향을 미쳤습니다.

---

**정치적 관점에서의 비교:**

*고려 시대(918년~1392년)*

고려는 불교를 국교로 삼아 국가 운영에 큰 영향을 받았습니다. 불교는 왕실과 귀족 사이에서 권력 균형을 유지하는 데 중요한 역할을 했습니다. 특히, **광종**은 노비안검법을 시행하고 과거제를 도입하여 왕권을 강화하였고, 인재를 등용함 
으로써 중앙 집권적인 통치 구조를 확립했습니다. 이는 귀족 세력의 견제를 통해 왕권을 강화하려는 시도로 해석됩니다.

*조선 시대(1392년~1897년)*

조선은 성리학(유교)을 국가 이념으로 채택하여 정치와 사회의 근간으로 삼았습니다. 건국 초기 태조 이성계부터 시작된 성리학 중심의 통치는 **세종대왕** 시기에 절정을 이루었습니다. 세종은 한글을 창제하고 과학 기술을 발전시켜 백성들 
의 삶을 개선하고자 했습니다. 또한, 성균관을 중심으로 한 교육 제도를 강화하여 유능한 관료를 양성하였습니다.

---

**예술적 관점에서의 비교:**

*고려 시대*

고려는 **고려청자**로 대표되는 도자기 예술이 발달하였습니다. 고려청자는 그 빼어난 빛깔과 섬세한 문양으로 세계적으로 인정받는 예술품입니다. 또한, **팔만대장경**의 조판은 불교 문화의 정수를 보여주는 대표적인 사건으로, 현존하는  
세계 최고의 목판 인쇄물입니다. 이는 고려의 높은 기술력과 신앙심을 보여줍니다.

*조선 시대*

조선은 성리학적 가치관을 반영한 예술이 주를 이루었습니다. 실용성과 단아함을 추구하는 백자 도자기가 발달하였고, 문인 화가들에 의해 **문인화**가 유행했습니다. **정선**은 진경산수화를 개척하여 한국의 자연을 사실적으로 표현하였으 
며, 이는 조선 회화의 중요한 전환점이 되었습니다. 또한, **훈민정음**의 창제로 문학과 서예 분야에서도 큰 발전을 이루었습니다.

---

**사회적 관점에서의 비교:**

*고려 시대*

고려는 비교적 개방적인 사회 구조를 가지고 있었습니다. 여성의 재산 상속과 호적 등록이 가능했고, 혼인과 이혼에 있어서도 자유로운 편이었습니다. 이는 불교의 영향으로 생사와 윤회에 대한 관념이 사회 전반에 퍼져 있었기 때문입니다. 또
한, 신분 제도가 엄격하지 않아 **만적의 난**과 같은 농민 봉기가 발생할 수 있었습니다.

*조선 시대*

조선은 엄격한 신분 제도를 확립하여 양반, 중인, 상민, 천민으로 구분하였습니다. 성리학적 가치관에 따라 가부장제가 강화되었고, 여성의 지위는 크게 하락하였습니다. 예를 들어, **열녀문**의 건립으로 여성에게는 정절이 강조되었고, 사회
적 움직임이 제한되었습니다. 이러한 사회 구조는 사회의 안정성을 높였지만 동시에 계층 간 이동을 어렵게 만들었습니다.

---

**한국 역사에 미친 영향의 분석:**

고려에서 조선으로의 문화적 변천은 한국 사회의 전반적인 구조와 가치관에 큰 변화를 가져왔습니다. 불교에서 성리학으로의 국가 이념 전환은 정치 체제의 중앙집권화를 강화하였고, 이는 이후 한국 정치 문화의 기반이 되었습니다.

예술적으로, 고려청자와 팔만대장경은 한국의 문화 유산으로서 높은 가치를 지니며, 조선의 한글 창제와 진경산수화는 한국의 문화와 예술 발전에 큰 기여를 했습니다. 특히, 한글의 창제는 국민들의 문해력을 향상시켜 지식과 문화의 대중화에
 혁신적인 변화를 가져왔습니다.

사회적으로, 고려의 개방적인 풍토는 다양성과 혁신을 가능하게 했지만, 조선의 엄격한 신분 제도는 사회의 안정성을 유지하면서도 계층 간 갈등의 원인이 되었습니다. 이는 훗날 조선 후기의 사회적 모순과 동학 농민 운동과 같은 변혁의 움직
임으로 이어졌습니다.

---

**결론적으로**, 고려와 조선 시대의 문화적 차이점은 한국 역사의 흐름에서 중요한 전환점이 되었으며, 정치, 예술, 사회 전반에 걸친 변화를 통해 현대 한국의 문화와 사상의 근간을 형성하였습니다. 이러한 역사적 이해는 오늘날 한국 사회 
를 이해하고 미래를 모색하는 데에도 중요한 의미를 지닙니다.
******************************
안녕, 친구들!

오늘은 **독서**가 왜 중요한지 함께 알아볼 거예요. 책을 읽는 것은 마치 모험을 떠나는 것과 같답니다. 그럼 독서가 우리에게 어떤 멋진 도움을 주는지 살펴볼까요?

### 1. **상상력이 쑥쑥!**
책 속에는 다양한 이야기와 그림이 담겨 있어요. 이야기를 읽으면서 머릿속에 멋진 그림을 그리게 되죠. 예를 들어, 용이 나오는 판타지 소설을 읽으면, 직접 용을 만나러 가는 상상을 할 수 있어요. 이런 상상력은 나중에 그림을 그리거나 새 
로운 이야기를 만들어낼 때 큰 도움이 된답니다.

### 2. **창의력이 빛나요!**
독서를 통해 새로운 아이디어를 접하게 되면, 자신만의 창의적인 생각을 할 수 있게 돼요. 친구들과 프로젝트를 할 때, 독서를 통해 배운 다양한 아이디어를 활용해서 더 재미있고 멋진 작품을 만들 수 있죠. 창의력은 새로운 문제를 해결하고, 멋진 발명을 하는 데 꼭 필요해요!

### 3. **학습이 쉬워져요!**
책을 많이 읽으면 단어도 많아지고, 문장을 이해하는 힘도 길러져요. 학교에서 공부할 때, 읽기와 쓰기가 쉬워져서 더 잘할 수 있게 되죠. 또한, 다양한 주제의 책을 읽으면서 새로운 지식도 많이 배울 수 있어요. 과학, 역사, 동물 이야기 등 
원하는 주제의 책을 읽으며 재미있게 공부할 수 있답니다.

### 4. **모험을 떠나요!**
책은 여러분을 세계 어디든지, 시간 여행도 할 수 있게 만들어줘요. 우주를 탐험하거나, 고대 나라를 방문하는 등 상상 속 모험을 떠날 수 있어요. 이런 경험들은 현실에서는 할 수 없는 멋진 추억이 되죠.

### 5. **친구가 생겨요!**
책을 함께 읽고 이야기나누면 친구들과 더 가까워질 수 있어요. 좋아하는 책에 대해 이야기하면서 서로의 생각을 나누고, 새로운 친구들을 만날 수도 있답니다.

### 마무리
독서는 재미있고 신나는 모험을 떠날 수 있게 해주는 멋진 도구예요. 상상력과 창의력을 키우고, 학습도 더 쉽게 할 수 있게 도와주니, 오늘부터라도 재미있는 책을 하나 골라 읽어보세요! 여러분의 삶이 더욱 풍성해질 거예요.

즐거운 독서 시간 되세요!
```
